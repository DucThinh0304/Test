#include <stdio.h>
#include <stdlib.h>

int main(){
	int A[50];
	int NumOf_frames, frames[5];
    int n;
    printf("Nhap so phan tu cua chuoi tham chieu: ");
    scanf("%d", &n);
    printf("Chuoi tham chieu: ");
    int i;
    for(i = 1; i <= n; i++)
    {
        scanf("%d", &A[i]);
    }
    A[i] = '\0';
    printf("So khung trang: ");
    scanf("%d", &NumOf_frames);
    
    int j, k, available, count = 0;
    for(i = 0; i < NumOf_frames; i++)
        frames[i] = -1; 
    j = 0;
    printf("\t|Chuoi|\t|Khung trang");
    for(k = 0; k < NumOf_frames - 1; k++)
		printf("\t");
	printf("|\n");
	for(i = 1; i <= n; i++)
    {
        printf("\t|  %d  |\t", A[i]);
        available = 0;
        for(k = 0; k < NumOf_frames; k++)
            if(frames[k] == A[i])
                available = 1; 
        if (available == 0)
        {
            frames[j] = A[i];
            j = (j + 1) % NumOf_frames;
            count++;
            printf("|");
            for(k = 0; k < NumOf_frames; k++)
                printf("%d\t", frames[k]);
            printf("| *"); 
        }
        else
        {
            printf("|");
            for(k = 0; k < NumOf_frames; k++)
                printf("%d\t", frames[k]);
            printf("|");
        }
        printf("\n");
	}
    printf("So trang loi la: %d\n", count);
}
